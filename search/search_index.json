{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Documentation Index This folder houses the in-repo wiki plus working notes. Use the structure below when adding or updating docs so contributors can find the right entry point quickly. Folder Layout wiki/ \u2013 user-facing wiki content meant to mirror the future external knowledge base. overview/ \u2013 high-level context (mission, architecture, roadmap). setup/ \u2013 environment/bootstrap instructions for devs, CI, and simulators. migration/ \u2013 ROS 1\u21922 guides, checklists, and deprecation trackers. simulator/ \u2013 UAV simulator operations, scenarios, sample worlds. troubleshooting/ \u2013 FAQs, known issues, and debug recipes. reference/ \u2013 APIs, message schemas, parameter tables. templates/ \u2013 reusable doc templates (RFC, runbook, etc.). plan/ \u2013 step-by-step porting or feature plans. Keep historical plans here. porting/PORTING_PROGRESS.md \u2013 canonical migration tracker; update whenever migration status changes. codex/ \u2013 meta notes for Codex agents (conversation history, prompts). How To Contribute Pick the right folder above; avoid dumping mixed content in the root. Create a new Markdown file (lowercase-with-dashes) and link it from the nearest README.md . When documenting porting progress, update both the relevant wiki page under wiki/migration/ and porting/PORTING_PROGRESS.md . Keep sections short with tables or lists where possible; favor ROS 2 terminology. Mention verification commands (e.g., colcon build --packages-select ... ) whenever applicable so others can reproduce steps.","title":"Home"},{"location":"#documentation-index","text":"This folder houses the in-repo wiki plus working notes. Use the structure below when adding or updating docs so contributors can find the right entry point quickly.","title":"Documentation Index"},{"location":"#folder-layout","text":"wiki/ \u2013 user-facing wiki content meant to mirror the future external knowledge base. overview/ \u2013 high-level context (mission, architecture, roadmap). setup/ \u2013 environment/bootstrap instructions for devs, CI, and simulators. migration/ \u2013 ROS 1\u21922 guides, checklists, and deprecation trackers. simulator/ \u2013 UAV simulator operations, scenarios, sample worlds. troubleshooting/ \u2013 FAQs, known issues, and debug recipes. reference/ \u2013 APIs, message schemas, parameter tables. templates/ \u2013 reusable doc templates (RFC, runbook, etc.). plan/ \u2013 step-by-step porting or feature plans. Keep historical plans here. porting/PORTING_PROGRESS.md \u2013 canonical migration tracker; update whenever migration status changes. codex/ \u2013 meta notes for Codex agents (conversation history, prompts).","title":"Folder Layout"},{"location":"#how-to-contribute","text":"Pick the right folder above; avoid dumping mixed content in the root. Create a new Markdown file (lowercase-with-dashes) and link it from the nearest README.md . When documenting porting progress, update both the relevant wiki page under wiki/migration/ and porting/PORTING_PROGRESS.md . Keep sections short with tables or lists where possible; favor ROS 2 terminology. Mention verification commands (e.g., colcon build --packages-select ... ) whenever applicable so others can reproduce steps.","title":"How To Contribute"},{"location":"porting/PORTING_PROGRESS/","text":"ROS 1 to ROS 2 Porting Progress Last Updated: Wednesday, December 17, 2025 1. Executive Summary Project: FUEL - Fast UAV Exploration Goal: Port entire codebase from ROS 1 (Noetic) to ROS 2 (Jazzy). Metric Status Details Packages 25/25 All packages now use package format 3; the duplicate ROS 1 multi_map_server/quadrotor_msgs copy has been removed. Build System 25/25 All packages including rviz_plugins now use ament_cmake. Source Code Complete All runtime nodes, benchmarks, and developer utilities now use rclcpp / message_filters as of Dec 16, 2025; remaining work is launch/test coverage plus the rviz_plugins build migration. Launch Files Pending To be addressed after source code migration. 2. Build Pipeline Status Reflecting the build tasks defined in .vscode/tasks.json . Task Description Status Notes Step 1 Utilities ( poscmd_2_odom , waypoint_generator , etc.) \u2705 Success Built Dec 16, 2025. Fixed waypoint_generator compilation & odom_visualization deps, and added swarmtal_msgs . Step 2 Core Planning ( bspline , poly_traj , plan_env , etc.) \u2705 Success Built Dec 16, 2025. Resolved bspline_opt dependency on active_perception . Step 3 Planning Management ( plan_manage , exploration_manager ) \u2705 Success Built Dec 17, 2025. Step 4 Simulator & Rendering ( so3_control , local_sensing ) \u2705 Success Built Dec 17, 2025. Fixed local_sensing_node missing dependencies. Step 5 Full Workspace Integration \u2705 Success Built Dec 17, 2025. Full workspace builds successfully (excluding rviz_plugins ). 3. Detailed Status \u2705 Fully Migrated Packages (Build & Source) The following packages build and run on ROS 2 without ROS 1 dependencies: Core Utilities & Messages: 1. poscmd_2_odom 2. waypoint_generator 3. quadrotor_msgs (primary copy under src/uav_simulator/Utils/quadrotor_msgs ) 4. pose_utils 5. uav_utils 6. cmake_utils 7. odom_visualization 8. swarmtal_msgs Simulation & Control: so3_control so3_disturbance_generator map_generator plan_env path_searching poly_traj (traj_generator node + ROS 2 launch/test harness) plan_manage (FSM entry point + traj_server ROS 2 nodes; benchmarking/test helpers now ROS 2 as of Dec 16, 2025) active_perception exploration_manager so3_quadrotor_simulator local_sensing [x] pointcloud_render_node.cpp [x] depth_render_node.cpp [x] pcl_render_node.cpp (CUDA path, optional via ENABLE_CUDA build) [x] euroc.cpp (benchmark tool rebuilt on rclcpp + message_filters with CUDA depth rendering) multi_map_server (Map2D/Map3D libraries and visualization node now rclcpp/tf2-only) rviz_plugins mppi_control (CUDA-based MPPI controller for aggressive flight) \ud83d\udd04 Build System Ready (Source Pending) No additional packages require ROS 1 source rewrites; only the rviz_plugins build migration remains on the Catkin \u2192 ament list. \ud83d\udee0\ufe0f In-Progress / Planned Improvements [ ] MPPI Control: Integrate reference acceleration ( ref_cmd_.acceleration ) as feed-forward in the MPPI optimization to improve tracking of dynamic trajectories. 3. Migration Guide & Patterns Reference for converting C++ source code. Concept ROS 1 ROS 2 Headers #include <ros/ros.h> #include <rclcpp/rclcpp.hpp> Messages #include <pkg/Msg.h> #include <pkg/msg/msg.hpp> Node ros::NodeHandle nh; Inherit rclcpp::Node Logging ROS_INFO(...) RCLCPP_INFO(this->get_logger(), ...) Time ros::Time::now() this->now() Params nh.param(\"key\", val, def) val = this->declare_parameter(\"key\", def); Rate ros::Rate r(10); r.sleep(); create_wall_timer(100ms, callback); Pub pub.publish(msg) pub->publish(msg) (Use SharedPtr) Sub ConstPtr in callback SharedPtr in callback Key Rules: 1. Class-based Nodes: Avoid global state. Wrap logic in a class inheriting from rclcpp::Node . 2. Timers: Replace while(ros::ok()) loops with wall timers. 3. TF2: Replace tf with tf2 and tf2_ros . Use tf2::toMsg and tf2::fromMsg . 4. Parameters: Always declare parameters before getting them. 4. Step-by-Step Plan Step 1: Simple Utility Packages (Priority 1) Goal: Migrate independent utilities to establish patterns. [x] 1.1 poscmd_2_odom [x] poscmd_2_odom.cpp [x] 1.2 waypoint_generator [x] waypoint_generator.cpp [x] sample_waypoints.h [x] 1.3 odom_visualization [x] odom_visualization.cpp (Complex TF & Visualization) [x] 1.4 map_generator [x] map_recorder.cpp [x] map_publisher.cpp [x] click_map.cpp [x] random_forest_sensing.cpp [x] 1.5 so3_disturbance_generator [x] so3_disturbance_generator.cpp [x] 1.6 swarmtal_msgs Step 2: Core Planning Libraries (Priority 2) Goal: Migrate computational cores. Minimal ROS dependency. [x] 2.1 bspline [x] non_uniform_bspline.cpp [x] 2.2 poly_traj [x] polynomial_traj.cpp [x] traj_generator.cpp (ROS 2 node + launch + CI test harness) [x] 2.3 path_searching [x] astar.cpp [x] kinodynamic_astar.cpp [x] topo_prm.cpp [x] 2.4 bspline_opt [x] bspline_optimizer.cpp [x] NLopt find_package + link/export chain fixed so downstream planners pull in libnlopt automatically (Dec 16, 2025). [x] 2.5 plan_env [x] sdf_map.cpp [x] obj_predictor.cpp [x] edt_environment.cpp [x] map_ros.cpp (Complex) [x] 2.6 traj_utils [x] planning_visualization.cpp [x] process_msg.cpp [x] 2.7 active_perception [x] frontier_finder.cpp [x] perception_utils.cpp Step 3: Planning Management (Priority 3) Goal: Migrate the high-level Logic and FSMs. [x] 3.1 plan_manage [x] fast_planner_node.cpp (Entry point) [x] kino_replan_fsm.cpp [x] topo_replan_fsm.cpp [x] planner_manager.cpp [x] traj_server.cpp & traj_server_backup.cpp (ROS 2 nodes + launch/config) [x] ROS 2 runtime artifacts landed ( config/traj_server.yaml , config/fast_planner.yaml , launch/traj_server.launch.py , launch/fast_planner.launch.py ), plus dependency fixes so colcon build --packages-select plan_manage succeeds as of Dec 16, 2025. [x] Legacy benchmarking/test tools under test/ ( process_msg* , rotation , etc.) migrated to standalone ROS 2 nodes (Dec 16, 2025). Note: compare_topo , opti_node , and test_collision_cost now run in self-contained benchmarking modes that no longer rely on the old ROS 1 Fast Planner harness. [x] 3.2 exploration_manager [x] exploration_node.cpp (Entry point) [x] fast_exploration_fsm.cpp [x] fast_exploration_manager.cpp [x] expl_data.cpp [x] LKH solver globals isolated + exported to stop duplicate symbol errors when linking exploration_node (Dec 16, 2025). [x] Full dependency chain rebuilt after exporting NLopt through bspline_opt , so colcon build --packages-select exploration_manager now succeeds end-to-end (Dec 16, 2025). Step 4: Simulator Components (Priority 4) Goal: Physics and Rendering. [x] 4.1 so3_control [x] so3_control_component.cpp [x] SO3Control.cpp [x] 4.2 so3_quadrotor_simulator [x] quadrotor_simulator_so3.cpp [x] 4.3 local_sensing [x] pointcloud_render_node.cpp [x] depth_render_node.cpp [x] pcl_render_node.cpp (CUDA path, ROS 2 w/ optional ENABLE_CUDA build) [x] euroc.cpp (benchmark node rebuilt on ROS 2 with CUDA depth render path) Step 5: Finalization [x] 5.1 Launch Files: Convert all ROS 1 XML launches to ROS 2 Python and collect them in the new plan_bringup ament_python package so any bringup script can be invoked from the single package namespace. fast_planner.launch.py (Planner) simulator.launch.py (Simulation Stack: Simulator, Control, Sensing, Map Gen) - NEW [x] 5.2 Integration Test: Build the full workspace and run the simulation stack end-to-end. Step 1 (Utilities) builds successfully as of Dec 16, 2025. Full workspace builds successfully as of Dec 17, 2025. Simulation stack ( simulator.launch.py ) launches and runs successfully (verified Dec 17, 2025). Full Fuel Pipeline Verified (Dec 21, 2025): Confirmed CUDA renderer ( pcl_render_node ), trajectory server, and fast planner integration. Manual goal planning functional after config fix.","title":"Porting Progress"},{"location":"porting/PORTING_PROGRESS/#ros-1-to-ros-2-porting-progress","text":"Last Updated: Wednesday, December 17, 2025","title":"ROS 1 to ROS 2 Porting Progress"},{"location":"porting/PORTING_PROGRESS/#1-executive-summary","text":"Project: FUEL - Fast UAV Exploration Goal: Port entire codebase from ROS 1 (Noetic) to ROS 2 (Jazzy). Metric Status Details Packages 25/25 All packages now use package format 3; the duplicate ROS 1 multi_map_server/quadrotor_msgs copy has been removed. Build System 25/25 All packages including rviz_plugins now use ament_cmake. Source Code Complete All runtime nodes, benchmarks, and developer utilities now use rclcpp / message_filters as of Dec 16, 2025; remaining work is launch/test coverage plus the rviz_plugins build migration. Launch Files Pending To be addressed after source code migration.","title":"1. Executive Summary"},{"location":"porting/PORTING_PROGRESS/#2-build-pipeline-status","text":"Reflecting the build tasks defined in .vscode/tasks.json . Task Description Status Notes Step 1 Utilities ( poscmd_2_odom , waypoint_generator , etc.) \u2705 Success Built Dec 16, 2025. Fixed waypoint_generator compilation & odom_visualization deps, and added swarmtal_msgs . Step 2 Core Planning ( bspline , poly_traj , plan_env , etc.) \u2705 Success Built Dec 16, 2025. Resolved bspline_opt dependency on active_perception . Step 3 Planning Management ( plan_manage , exploration_manager ) \u2705 Success Built Dec 17, 2025. Step 4 Simulator & Rendering ( so3_control , local_sensing ) \u2705 Success Built Dec 17, 2025. Fixed local_sensing_node missing dependencies. Step 5 Full Workspace Integration \u2705 Success Built Dec 17, 2025. Full workspace builds successfully (excluding rviz_plugins ).","title":"2. Build Pipeline Status"},{"location":"porting/PORTING_PROGRESS/#3-detailed-status","text":"","title":"3. Detailed Status"},{"location":"porting/PORTING_PROGRESS/#fully-migrated-packages-build-source","text":"The following packages build and run on ROS 2 without ROS 1 dependencies: Core Utilities & Messages: 1. poscmd_2_odom 2. waypoint_generator 3. quadrotor_msgs (primary copy under src/uav_simulator/Utils/quadrotor_msgs ) 4. pose_utils 5. uav_utils 6. cmake_utils 7. odom_visualization 8. swarmtal_msgs Simulation & Control: so3_control so3_disturbance_generator map_generator plan_env path_searching poly_traj (traj_generator node + ROS 2 launch/test harness) plan_manage (FSM entry point + traj_server ROS 2 nodes; benchmarking/test helpers now ROS 2 as of Dec 16, 2025) active_perception exploration_manager so3_quadrotor_simulator local_sensing [x] pointcloud_render_node.cpp [x] depth_render_node.cpp [x] pcl_render_node.cpp (CUDA path, optional via ENABLE_CUDA build) [x] euroc.cpp (benchmark tool rebuilt on rclcpp + message_filters with CUDA depth rendering) multi_map_server (Map2D/Map3D libraries and visualization node now rclcpp/tf2-only) rviz_plugins mppi_control (CUDA-based MPPI controller for aggressive flight)","title":"\u2705 Fully Migrated Packages (Build &amp; Source)"},{"location":"porting/PORTING_PROGRESS/#build-system-ready-source-pending","text":"No additional packages require ROS 1 source rewrites; only the rviz_plugins build migration remains on the Catkin \u2192 ament list.","title":"\ud83d\udd04 Build System Ready (Source Pending)"},{"location":"porting/PORTING_PROGRESS/#in-progress-planned-improvements","text":"[ ] MPPI Control: Integrate reference acceleration ( ref_cmd_.acceleration ) as feed-forward in the MPPI optimization to improve tracking of dynamic trajectories.","title":"\ud83d\udee0\ufe0f In-Progress / Planned Improvements"},{"location":"porting/PORTING_PROGRESS/#3-migration-guide-patterns","text":"Reference for converting C++ source code. Concept ROS 1 ROS 2 Headers #include <ros/ros.h> #include <rclcpp/rclcpp.hpp> Messages #include <pkg/Msg.h> #include <pkg/msg/msg.hpp> Node ros::NodeHandle nh; Inherit rclcpp::Node Logging ROS_INFO(...) RCLCPP_INFO(this->get_logger(), ...) Time ros::Time::now() this->now() Params nh.param(\"key\", val, def) val = this->declare_parameter(\"key\", def); Rate ros::Rate r(10); r.sleep(); create_wall_timer(100ms, callback); Pub pub.publish(msg) pub->publish(msg) (Use SharedPtr) Sub ConstPtr in callback SharedPtr in callback Key Rules: 1. Class-based Nodes: Avoid global state. Wrap logic in a class inheriting from rclcpp::Node . 2. Timers: Replace while(ros::ok()) loops with wall timers. 3. TF2: Replace tf with tf2 and tf2_ros . Use tf2::toMsg and tf2::fromMsg . 4. Parameters: Always declare parameters before getting them.","title":"3. Migration Guide &amp; Patterns"},{"location":"porting/PORTING_PROGRESS/#4-step-by-step-plan","text":"","title":"4. Step-by-Step Plan"},{"location":"porting/PORTING_PROGRESS/#step-1-simple-utility-packages-priority-1","text":"Goal: Migrate independent utilities to establish patterns. [x] 1.1 poscmd_2_odom [x] poscmd_2_odom.cpp [x] 1.2 waypoint_generator [x] waypoint_generator.cpp [x] sample_waypoints.h [x] 1.3 odom_visualization [x] odom_visualization.cpp (Complex TF & Visualization) [x] 1.4 map_generator [x] map_recorder.cpp [x] map_publisher.cpp [x] click_map.cpp [x] random_forest_sensing.cpp [x] 1.5 so3_disturbance_generator [x] so3_disturbance_generator.cpp [x] 1.6 swarmtal_msgs","title":"Step 1: Simple Utility Packages (Priority 1)"},{"location":"porting/PORTING_PROGRESS/#step-2-core-planning-libraries-priority-2","text":"Goal: Migrate computational cores. Minimal ROS dependency. [x] 2.1 bspline [x] non_uniform_bspline.cpp [x] 2.2 poly_traj [x] polynomial_traj.cpp [x] traj_generator.cpp (ROS 2 node + launch + CI test harness) [x] 2.3 path_searching [x] astar.cpp [x] kinodynamic_astar.cpp [x] topo_prm.cpp [x] 2.4 bspline_opt [x] bspline_optimizer.cpp [x] NLopt find_package + link/export chain fixed so downstream planners pull in libnlopt automatically (Dec 16, 2025). [x] 2.5 plan_env [x] sdf_map.cpp [x] obj_predictor.cpp [x] edt_environment.cpp [x] map_ros.cpp (Complex) [x] 2.6 traj_utils [x] planning_visualization.cpp [x] process_msg.cpp [x] 2.7 active_perception [x] frontier_finder.cpp [x] perception_utils.cpp","title":"Step 2: Core Planning Libraries (Priority 2)"},{"location":"porting/PORTING_PROGRESS/#step-3-planning-management-priority-3","text":"Goal: Migrate the high-level Logic and FSMs. [x] 3.1 plan_manage [x] fast_planner_node.cpp (Entry point) [x] kino_replan_fsm.cpp [x] topo_replan_fsm.cpp [x] planner_manager.cpp [x] traj_server.cpp & traj_server_backup.cpp (ROS 2 nodes + launch/config) [x] ROS 2 runtime artifacts landed ( config/traj_server.yaml , config/fast_planner.yaml , launch/traj_server.launch.py , launch/fast_planner.launch.py ), plus dependency fixes so colcon build --packages-select plan_manage succeeds as of Dec 16, 2025. [x] Legacy benchmarking/test tools under test/ ( process_msg* , rotation , etc.) migrated to standalone ROS 2 nodes (Dec 16, 2025). Note: compare_topo , opti_node , and test_collision_cost now run in self-contained benchmarking modes that no longer rely on the old ROS 1 Fast Planner harness. [x] 3.2 exploration_manager [x] exploration_node.cpp (Entry point) [x] fast_exploration_fsm.cpp [x] fast_exploration_manager.cpp [x] expl_data.cpp [x] LKH solver globals isolated + exported to stop duplicate symbol errors when linking exploration_node (Dec 16, 2025). [x] Full dependency chain rebuilt after exporting NLopt through bspline_opt , so colcon build --packages-select exploration_manager now succeeds end-to-end (Dec 16, 2025).","title":"Step 3: Planning Management (Priority 3)"},{"location":"porting/PORTING_PROGRESS/#step-4-simulator-components-priority-4","text":"Goal: Physics and Rendering. [x] 4.1 so3_control [x] so3_control_component.cpp [x] SO3Control.cpp [x] 4.2 so3_quadrotor_simulator [x] quadrotor_simulator_so3.cpp [x] 4.3 local_sensing [x] pointcloud_render_node.cpp [x] depth_render_node.cpp [x] pcl_render_node.cpp (CUDA path, ROS 2 w/ optional ENABLE_CUDA build) [x] euroc.cpp (benchmark node rebuilt on ROS 2 with CUDA depth render path)","title":"Step 4: Simulator Components (Priority 4)"},{"location":"porting/PORTING_PROGRESS/#step-5-finalization","text":"[x] 5.1 Launch Files: Convert all ROS 1 XML launches to ROS 2 Python and collect them in the new plan_bringup ament_python package so any bringup script can be invoked from the single package namespace. fast_planner.launch.py (Planner) simulator.launch.py (Simulation Stack: Simulator, Control, Sensing, Map Gen) - NEW [x] 5.2 Integration Test: Build the full workspace and run the simulation stack end-to-end. Step 1 (Utilities) builds successfully as of Dec 16, 2025. Full workspace builds successfully as of Dec 17, 2025. Simulation stack ( simulator.launch.py ) launches and runs successfully (verified Dec 17, 2025). Full Fuel Pipeline Verified (Dec 21, 2025): Confirmed CUDA renderer ( pcl_render_node ), trajectory server, and fast planner integration. Manual goal planning functional after config fix.","title":"Step 5: Finalization"},{"location":"wiki/","text":"Wiki Overview This directory mirrors the structure we intend to publish to the external wiki. Each subfolder should contain: - an README.md describing the scope for that section; - focused topic pages (one topic per file) with practical steps, commands, and diagrams as needed; - cross-links back to docs/porting/PORTING_PROGRESS.md or other source-of-truth files instead of duplicating data. Section Map overview/ \u2013 project mission, architecture diagrams, roadmap/status snapshots. setup/ \u2013 how-to guides for local dev, containers, CI tuning, and launch commands. migration/ \u2013 ROS 1\u21922 strategy, porting checklist, API change logs. simulator/ \u2013 instructions for running the UAV simulator, sample environments, and visualization tips. troubleshooting/ \u2013 FAQs, debugging flows, gotchas collected from Slack/GitHub issues. reference/ \u2013 parameters, message schemas, CLI tables. templates/ \u2013 doc templates so contributors can copy/paste the right structure. Tip: Keep Markdown titles short. Where diagrams are needed, store the asset under files/ and reference it relatively.","title":"Wiki Overview"},{"location":"wiki/#wiki-overview","text":"This directory mirrors the structure we intend to publish to the external wiki. Each subfolder should contain: - an README.md describing the scope for that section; - focused topic pages (one topic per file) with practical steps, commands, and diagrams as needed; - cross-links back to docs/porting/PORTING_PROGRESS.md or other source-of-truth files instead of duplicating data.","title":"Wiki Overview"},{"location":"wiki/#section-map","text":"overview/ \u2013 project mission, architecture diagrams, roadmap/status snapshots. setup/ \u2013 how-to guides for local dev, containers, CI tuning, and launch commands. migration/ \u2013 ROS 1\u21922 strategy, porting checklist, API change logs. simulator/ \u2013 instructions for running the UAV simulator, sample environments, and visualization tips. troubleshooting/ \u2013 FAQs, debugging flows, gotchas collected from Slack/GitHub issues. reference/ \u2013 parameters, message schemas, CLI tables. templates/ \u2013 doc templates so contributors can copy/paste the right structure. Tip: Keep Markdown titles short. Where diagrams are needed, store the asset under files/ and reference it relatively.","title":"Section Map"},{"location":"wiki/development/","text":"Development Documentation This section contains development plans, design documents, and integration strategies for new features and components. Contents MPPI Controller Test Plan - Plan for testing and integrating the MPPI controller with the existing simulator. Exploration Metrics - Documentation on how exploration progress is measured and visualized.","title":"Overview"},{"location":"wiki/development/#development-documentation","text":"This section contains development plans, design documents, and integration strategies for new features and components.","title":"Development Documentation"},{"location":"wiki/development/#contents","text":"MPPI Controller Test Plan - Plan for testing and integrating the MPPI controller with the existing simulator. Exploration Metrics - Documentation on how exploration progress is measured and visualized.","title":"Contents"},{"location":"wiki/development/exploration_metrics/","text":"Exploration Metrics This page describes the metrics used to track exploration progress in FUEL. Frontier Exploration Rate ( /exploration/frontier_rate ) The frontier exploration rate provides a measure of how many discovered frontier cells have been \"covered\" or \"cleared\" by the UAV's sensors. Calculation The rate is calculated as a percentage: \\[Rate = \\frac{Cells_{total} - Cells_{current}}{Cells_{total}} \\times 100\\] Where: - \\(Cells_{total}\\) : The cumulative count of unique voxels that have been identified as frontiers since the start of the mission. - \\(Cells_{current}\\) : The number of voxels currently identified as frontiers (active or dormant). Why it is not Monotonically Increasing Unlike volume-based exploration metrics, the frontier exploration rate may decrease temporarily during the mission. This happens for several reasons: New Discoveries : As the UAV moves into unknown territory, it might discover a large number of new frontier cells simultaneously. This increases \\(Cells_{total}\\) and \\(Cells_{current}\\) , but if a large cluster is newly found, the proportion of \"cleared\" cells relative to the new, larger total may drop. Frontier Clustering/Splitting : The FrontierFinder dynamically clusters and filters frontier cells. Changes in the map can lead to existing frontiers being re-evaluated, which might slightly fluctuate the count of active cells. Dormant Frontiers : Frontiers that cannot be reached or lack valid viewpoints are moved to a dormant list. They still count as \\(Cells_{current}\\) until they are actually cleared by the sensor (e.g., if the UAV passes near them while going elsewhere). Comparison with Volumetric Rate ( /sdf_map/explored_volume ) Metric Definition Behavior Volumetric Rate Fraction of the total bounding box volume that is \"Known\" (Free or Occupied). Always increases as more space is observed. Frontier Rate Fraction of identified \"Unknown-Free\" boundaries that have been cleared. Focuses on mission objectives; can fluctuate as new objectives (frontiers) are found.","title":"Exploration Metrics"},{"location":"wiki/development/exploration_metrics/#exploration-metrics","text":"This page describes the metrics used to track exploration progress in FUEL.","title":"Exploration Metrics"},{"location":"wiki/development/exploration_metrics/#frontier-exploration-rate-explorationfrontier_rate","text":"The frontier exploration rate provides a measure of how many discovered frontier cells have been \"covered\" or \"cleared\" by the UAV's sensors.","title":"Frontier Exploration Rate (/exploration/frontier_rate)"},{"location":"wiki/development/exploration_metrics/#calculation","text":"The rate is calculated as a percentage: \\[Rate = \\frac{Cells_{total} - Cells_{current}}{Cells_{total}} \\times 100\\] Where: - \\(Cells_{total}\\) : The cumulative count of unique voxels that have been identified as frontiers since the start of the mission. - \\(Cells_{current}\\) : The number of voxels currently identified as frontiers (active or dormant).","title":"Calculation"},{"location":"wiki/development/exploration_metrics/#why-it-is-not-monotonically-increasing","text":"Unlike volume-based exploration metrics, the frontier exploration rate may decrease temporarily during the mission. This happens for several reasons: New Discoveries : As the UAV moves into unknown territory, it might discover a large number of new frontier cells simultaneously. This increases \\(Cells_{total}\\) and \\(Cells_{current}\\) , but if a large cluster is newly found, the proportion of \"cleared\" cells relative to the new, larger total may drop. Frontier Clustering/Splitting : The FrontierFinder dynamically clusters and filters frontier cells. Changes in the map can lead to existing frontiers being re-evaluated, which might slightly fluctuate the count of active cells. Dormant Frontiers : Frontiers that cannot be reached or lack valid viewpoints are moved to a dormant list. They still count as \\(Cells_{current}\\) until they are actually cleared by the sensor (e.g., if the UAV passes near them while going elsewhere).","title":"Why it is not Monotonically Increasing"},{"location":"wiki/development/exploration_metrics/#comparison-with-volumetric-rate-sdf_mapexplored_volume","text":"Metric Definition Behavior Volumetric Rate Fraction of the total bounding box volume that is \"Known\" (Free or Occupied). Always increases as more space is observed. Frontier Rate Fraction of identified \"Unknown-Free\" boundaries that have been cleared. Focuses on mission objectives; can fluctuate as new objectives (frontiers) are found.","title":"Comparison with Volumetric Rate (/sdf_map/explored_volume)"},{"location":"wiki/development/mppi_test_plan/","text":"MPPI Controller Test Plan Objective : Validate the integration of the MPPI (Model Predictive Path Integral) controller using the existing UAV simulator and visualization tools. Prerequisites Simulator Build : Ensure the simulator packages ( so3_quadrotor_simulator , so3_control , map_generator , etc.) are built and sourced. colcon build --packages-select so3_quadrotor_simulator so3_control map_generator odom_visualization local_sensing_node plan_bringup plan_manage source install/setup.bash MPPI Package : The MPPI controller package must be built (or stubbed/mocked if in early dev). Phase 1: Baseline Verification ( so3_control ) Before testing MPPI, confirm the simulator environment is functional with the default so3_control . 1. Launch Simulator Run the existing simulator launch file which brings up the physics, map, and default controller. ros2 launch plan_bringup simulator.launch.py Verification Results (2025-12-18) : - Status : Verified. - Outcome : Simulator nodes ( quadrotor_simulator_so3 , so3_control , map_generator ) launch successfully. Drone responds to PositionCommand messages on /planning/pos_cmd by moving as expected. 2. Visualize (RViz2) Launch RViz2 with the existing configuration to see the drone and map. ros2 run rviz2 rviz2 -d src/fuel_planner/plan_manage/config/traj.rviz Verification Results (2025-12-18) : - Status : Verified. - Outcome : RViz2 configuration traj.rviz has been updated to ROS 2 (using rviz_default_plugins ). Plugins load correctly and subscribe to topics. Phase 2: MPPI Integration Strategy To test MPPI, we will replace the so3_control component in the launch loop. 1. Create MPPI Launch Configuration Create a new launch file (e.g., mppi_simulator.launch.py ) or modify simulator.launch.py to accept a controller argument. Proposed Change ( simulator.launch.py ): Add a launch argument to select the controller. DeclareLaunchArgument ( 'controller_type' , default_value = 'so3' ) # Options: 'so3', 'mppi' Condition the ComposableNode for the controller based on this argument. MPPI Node Spec : - Package : mppi_control (placeholder name) - Plugin/Executable : mppi_control::MPPIControlComponent or standalone node. - Inputs : - /state_ukf/odom (Odometry) - /planning/pos_cmd (Target/Reference) - Outputs : - motors (Motor speeds) or so3_cmd (Attitude/Thrust) depending on MPPI output level. 2. Manual Testing Loop Launch with MPPI : ros2 launch plan_bringup simulator.launch.py controller_type: = mppi (Or modify the launch file manually to load the MPPI node instead of so3_control ) . Send Commands : Publish a dummy target pose to /planning/pos_cmd to trigger the controller. ros2 topic pub --once /planning/pos_cmd quadrotor_msgs/msg/PositionCommand \"{...}\" Monitor : Check ros2 topic echo /motors or /so3_cmd . Watch RViz for stability/trajectory tracking. Phase 3: Advanced Visualization & Metrics Visualization : Use rviz_plugins to visualize the predicted paths (rollouts) of the MPPI controller. Topic: /mppi/rollouts (MarkerArray or Path) Metrics : Measure tracking error and computation time.","title":"MPPI Test Plan"},{"location":"wiki/development/mppi_test_plan/#mppi-controller-test-plan","text":"Objective : Validate the integration of the MPPI (Model Predictive Path Integral) controller using the existing UAV simulator and visualization tools.","title":"MPPI Controller Test Plan"},{"location":"wiki/development/mppi_test_plan/#prerequisites","text":"Simulator Build : Ensure the simulator packages ( so3_quadrotor_simulator , so3_control , map_generator , etc.) are built and sourced. colcon build --packages-select so3_quadrotor_simulator so3_control map_generator odom_visualization local_sensing_node plan_bringup plan_manage source install/setup.bash MPPI Package : The MPPI controller package must be built (or stubbed/mocked if in early dev).","title":"Prerequisites"},{"location":"wiki/development/mppi_test_plan/#phase-1-baseline-verification-so3_control","text":"Before testing MPPI, confirm the simulator environment is functional with the default so3_control .","title":"Phase 1: Baseline Verification (so3_control)"},{"location":"wiki/development/mppi_test_plan/#1-launch-simulator","text":"Run the existing simulator launch file which brings up the physics, map, and default controller. ros2 launch plan_bringup simulator.launch.py Verification Results (2025-12-18) : - Status : Verified. - Outcome : Simulator nodes ( quadrotor_simulator_so3 , so3_control , map_generator ) launch successfully. Drone responds to PositionCommand messages on /planning/pos_cmd by moving as expected.","title":"1. Launch Simulator"},{"location":"wiki/development/mppi_test_plan/#2-visualize-rviz2","text":"Launch RViz2 with the existing configuration to see the drone and map. ros2 run rviz2 rviz2 -d src/fuel_planner/plan_manage/config/traj.rviz Verification Results (2025-12-18) : - Status : Verified. - Outcome : RViz2 configuration traj.rviz has been updated to ROS 2 (using rviz_default_plugins ). Plugins load correctly and subscribe to topics.","title":"2. Visualize (RViz2)"},{"location":"wiki/development/mppi_test_plan/#phase-2-mppi-integration-strategy","text":"To test MPPI, we will replace the so3_control component in the launch loop.","title":"Phase 2: MPPI Integration Strategy"},{"location":"wiki/development/mppi_test_plan/#1-create-mppi-launch-configuration","text":"Create a new launch file (e.g., mppi_simulator.launch.py ) or modify simulator.launch.py to accept a controller argument. Proposed Change ( simulator.launch.py ): Add a launch argument to select the controller. DeclareLaunchArgument ( 'controller_type' , default_value = 'so3' ) # Options: 'so3', 'mppi' Condition the ComposableNode for the controller based on this argument. MPPI Node Spec : - Package : mppi_control (placeholder name) - Plugin/Executable : mppi_control::MPPIControlComponent or standalone node. - Inputs : - /state_ukf/odom (Odometry) - /planning/pos_cmd (Target/Reference) - Outputs : - motors (Motor speeds) or so3_cmd (Attitude/Thrust) depending on MPPI output level.","title":"1. Create MPPI Launch Configuration"},{"location":"wiki/development/mppi_test_plan/#2-manual-testing-loop","text":"Launch with MPPI : ros2 launch plan_bringup simulator.launch.py controller_type: = mppi (Or modify the launch file manually to load the MPPI node instead of so3_control ) . Send Commands : Publish a dummy target pose to /planning/pos_cmd to trigger the controller. ros2 topic pub --once /planning/pos_cmd quadrotor_msgs/msg/PositionCommand \"{...}\" Monitor : Check ros2 topic echo /motors or /so3_cmd . Watch RViz for stability/trajectory tracking.","title":"2. Manual Testing Loop"},{"location":"wiki/development/mppi_test_plan/#phase-3-advanced-visualization-metrics","text":"Visualization : Use rviz_plugins to visualize the predicted paths (rollouts) of the MPPI controller. Topic: /mppi/rollouts (MarkerArray or Path) Metrics : Measure tracking error and computation time.","title":"Phase 3: Advanced Visualization &amp; Metrics"},{"location":"wiki/migration/","text":"Migration Section Centralize the ROS 1\u21922 strategy here so engineers do not have to dig through scattered notes. Key Files ros1_to_ros2_checklist.md \u2013 end-to-end checklist spanning manifests, nodes, launch files, and tests. api_changes.md \u2013 catalog of API differences (logging, parameters, TF, node composition). porting_playbook.md \u2013 step-by-step guide with code snippets. ../porting/PORTING_PROGRESS.md \u2013 authoritative status table (link rather than copy). Whenever a package is fully ported, update both the checklist and the progress tracker.","title":"Porting Guide"},{"location":"wiki/migration/#migration-section","text":"Centralize the ROS 1\u21922 strategy here so engineers do not have to dig through scattered notes.","title":"Migration Section"},{"location":"wiki/migration/#key-files","text":"ros1_to_ros2_checklist.md \u2013 end-to-end checklist spanning manifests, nodes, launch files, and tests. api_changes.md \u2013 catalog of API differences (logging, parameters, TF, node composition). porting_playbook.md \u2013 step-by-step guide with code snippets. ../porting/PORTING_PROGRESS.md \u2013 authoritative status table (link rather than copy). Whenever a package is fully ported, update both the checklist and the progress tracker.","title":"Key Files"},{"location":"wiki/migration/api_changes/","text":"API Changes Reference Summarize common code changes for quick lookup. Concept ROS 1 ROS 2 Node creation ros::NodeHandle nh; class FooNode : public rclcpp::Node { ... } Logging ROS_INFO_STREAM RCLCPP_INFO(get_logger(), ...) Parameters nh.param(\"foo\", value, default); value = declare_parameter(\"foo\", default); Timers ros::Rate loop create_wall_timer(period, callback) TF tf::TransformListener tf2_ros::Buffer + tf2_ros::TransformListener Messages pkg/Msg.h pkg/msg/msg.hpp Launch .launch XML .launch.py Python API Extend the table with QoS, QoS overrides, Composition, Lifecycle, etc., as needed.","title":"API Changes"},{"location":"wiki/migration/api_changes/#api-changes-reference","text":"Summarize common code changes for quick lookup. Concept ROS 1 ROS 2 Node creation ros::NodeHandle nh; class FooNode : public rclcpp::Node { ... } Logging ROS_INFO_STREAM RCLCPP_INFO(get_logger(), ...) Parameters nh.param(\"foo\", value, default); value = declare_parameter(\"foo\", default); Timers ros::Rate loop create_wall_timer(period, callback) TF tf::TransformListener tf2_ros::Buffer + tf2_ros::TransformListener Messages pkg/Msg.h pkg/msg/msg.hpp Launch .launch XML .launch.py Python API Extend the table with QoS, QoS overrides, Composition, Lifecycle, etc., as needed.","title":"API Changes Reference"},{"location":"wiki/migration/porting_playbook/","text":"Porting Playbook Use this as a repeatable recipe when touching packages that are still on ROS 1. Inventory \u2013 run rg \"ros::\" src/<pkg> to find ROS 1 APIs. Manifests \u2013 confirm dependencies + export tags match ROS 2 expectations. Source Porting \u2013 migrate nodes to rclcpp , convert parameters, and fix TF. Launch/Config \u2013 provide .launch.py and YAML files with declared parameters. Testing \u2013 add ament_add_gtest or launch tests; ensure they run via colcon test --packages-select <pkg> . Docs \u2013 update this wiki section and docs/porting/PORTING_PROGRESS.md with the change date.","title":"Porting Playbook"},{"location":"wiki/migration/porting_playbook/#porting-playbook","text":"Use this as a repeatable recipe when touching packages that are still on ROS 1. Inventory \u2013 run rg \"ros::\" src/<pkg> to find ROS 1 APIs. Manifests \u2013 confirm dependencies + export tags match ROS 2 expectations. Source Porting \u2013 migrate nodes to rclcpp , convert parameters, and fix TF. Launch/Config \u2013 provide .launch.py and YAML files with declared parameters. Testing \u2013 add ament_add_gtest or launch tests; ensure they run via colcon test --packages-select <pkg> . Docs \u2013 update this wiki section and docs/porting/PORTING_PROGRESS.md with the change date.","title":"Porting Playbook"},{"location":"wiki/migration/ros1_to_ros2_checklist/","text":"ROS 1 \u2192 ROS 2 Checklist Use this checklist per package. [ ] Update package.xml to format 3 with ament_cmake dependencies. [ ] Replace CMakeLists.txt Catkin macros with ament_cmake equivalents. [ ] Port all nodes to rclcpp , replacing ros::NodeHandle usage. [ ] Swap TF ( tf ) for tf2 + tf2_ros . [ ] Convert launch files to Python API ( launch_ros.actions.Node ). [ ] Ensure parameters are declared with defaults. [ ] Add or update tests via ament_add_gtest or launch tests. [ ] Document the migration in docs/porting/PORTING_PROGRESS.md .","title":"Checklist"},{"location":"wiki/migration/ros1_to_ros2_checklist/#ros-1-ros-2-checklist","text":"Use this checklist per package. [ ] Update package.xml to format 3 with ament_cmake dependencies. [ ] Replace CMakeLists.txt Catkin macros with ament_cmake equivalents. [ ] Port all nodes to rclcpp , replacing ros::NodeHandle usage. [ ] Swap TF ( tf ) for tf2 + tf2_ros . [ ] Convert launch files to Python API ( launch_ros.actions.Node ). [ ] Ensure parameters are declared with defaults. [ ] Add or update tests via ament_add_gtest or launch tests. [ ] Document the migration in docs/porting/PORTING_PROGRESS.md .","title":"ROS 1 \u2192 ROS 2 Checklist"},{"location":"wiki/overview/","text":"Overview Section Use this section to orient new contributors. Keep the content non-technical but actionable, linking to deeper pages when needed. Pages To Maintain project_overview.md \u2013 One-page summary of FUEL, key capabilities, ROS 2 status. architecture.md \u2013 High-level diagrams + narrative for planner, simulator, and sensing stacks. roadmap.md \u2013 Quarter-by-quarter goals, milestones, and ownership. Update the roadmap.md whenever docs/porting/PORTING_PROGRESS.md dates change so the narrative stays aligned with the tracker.","title":"Introduction"},{"location":"wiki/overview/#overview-section","text":"Use this section to orient new contributors. Keep the content non-technical but actionable, linking to deeper pages when needed.","title":"Overview Section"},{"location":"wiki/overview/#pages-to-maintain","text":"project_overview.md \u2013 One-page summary of FUEL, key capabilities, ROS 2 status. architecture.md \u2013 High-level diagrams + narrative for planner, simulator, and sensing stacks. roadmap.md \u2013 Quarter-by-quarter goals, milestones, and ownership. Update the roadmap.md whenever docs/porting/PORTING_PROGRESS.md dates change so the narrative stays aligned with the tracker.","title":"Pages To Maintain"},{"location":"wiki/overview/architecture/","text":"Architecture Overview Add diagrams (PNG/SVG under files/ ) and describe how the planner, simulator, sensing, and visualization stacks interact. Suggested Sections System context diagram (planner \u2194 simulator \u2194 sensing). Data flow: messages/topics across plan_manage , poly_traj , so3_control , local_sensing . Deployment topology (dev container, onboard computer, ground station).","title":"Architecture"},{"location":"wiki/overview/architecture/#architecture-overview","text":"Add diagrams (PNG/SVG under files/ ) and describe how the planner, simulator, sensing, and visualization stacks interact.","title":"Architecture Overview"},{"location":"wiki/overview/architecture/#suggested-sections","text":"System context diagram (planner \u2194 simulator \u2194 sensing). Data flow: messages/topics across plan_manage , poly_traj , so3_control , local_sensing . Deployment topology (dev container, onboard computer, ground station).","title":"Suggested Sections"},{"location":"wiki/overview/project_overview/","text":"Project Overview Use this page to summarize the FUEL stack, the ROS 2 migration goals, and links to demos. Highlights Mission & core capabilities Key packages (planning, simulation, sensing) Current release + ROS 2 Jazzy support matrix Links docs/porting/PORTING_PROGRESS.md docs/wiki/setup/dev_container.md","title":"Project Overview"},{"location":"wiki/overview/project_overview/#project-overview","text":"Use this page to summarize the FUEL stack, the ROS 2 migration goals, and links to demos.","title":"Project Overview"},{"location":"wiki/overview/project_overview/#highlights","text":"Mission & core capabilities Key packages (planning, simulation, sensing) Current release + ROS 2 Jazzy support matrix","title":"Highlights"},{"location":"wiki/overview/project_overview/#links","text":"docs/porting/PORTING_PROGRESS.md docs/wiki/setup/dev_container.md","title":"Links"},{"location":"wiki/overview/roadmap/","text":"Roadmap Track upcoming milestones; keep dates explicit. Template Quarter Goal Owner Status 2025-Q4 Finish ROS 2 migration ( local_sensing/pcl_render_node.cpp , rviz_plugins ) In Progress Add rows for testing, documentation, and release prep as plans evolve.","title":"Roadmap"},{"location":"wiki/overview/roadmap/#roadmap","text":"Track upcoming milestones; keep dates explicit.","title":"Roadmap"},{"location":"wiki/overview/roadmap/#template","text":"Quarter Goal Owner Status 2025-Q4 Finish ROS 2 migration ( local_sensing/pcl_render_node.cpp , rviz_plugins ) In Progress Add rows for testing, documentation, and release prep as plans evolve.","title":"Template"},{"location":"wiki/reference/","text":"Reference Section Use this for authoritative tables and schemas that other sections can link to. Pages message_schemas.md \u2013 custom message definitions and topic contracts parameter_tables.md \u2013 key parameters per package (YAML source of truth + explanation) cli_reference.md \u2013 frequently used CLI commands (ros2, colcon, rviz) mppi_controller.md \u2013 MPPI controller variants, parameters, and usage guide Keep entries synced with source headers and YAML configs.","title":"Reference Section"},{"location":"wiki/reference/#reference-section","text":"Use this for authoritative tables and schemas that other sections can link to.","title":"Reference Section"},{"location":"wiki/reference/#pages","text":"message_schemas.md \u2013 custom message definitions and topic contracts parameter_tables.md \u2013 key parameters per package (YAML source of truth + explanation) cli_reference.md \u2013 frequently used CLI commands (ros2, colcon, rviz) mppi_controller.md \u2013 MPPI controller variants, parameters, and usage guide Keep entries synced with source headers and YAML configs.","title":"Pages"},{"location":"wiki/reference/cli_reference/","text":"CLI Reference List frequently used commands with short explanations. Launch Commands Command Purpose ros2 launch plan_bringup traj_server.launch.py world:=office Bring up trajectory server with office world ros2 launch plan_bringup fuel_pipeline.launch.py controller_type:=so3 world:=office exploration:=true Full pipeline with SO3 controller and exploration ros2 launch plan_bringup fuel_pipeline.launch.py controller_type:=mppi world:=office exploration:=true Full pipeline with MPPI thrust+quaternion controller ros2 launch plan_bringup fuel_pipeline.launch.py controller_type:=mppi_acc world:=office exploration:=true Full pipeline with MPPI acceleration controller Topic Inspection Command Purpose ros2 topic echo /traj_server/command Inspect trajectory server commands ros2 topic echo /odom Inspect UAV odometry ros2 topic echo /planning/pos_cmd Inspect reference trajectory from planner ros2 topic echo /so3_cmd Inspect SO3 control commands ros2 topic hz /so3_cmd Check control command rate Visualization Command Purpose ros2 run tf2_tools view_frames Visualize TF tree rviz2 -d src/fuel_planner/plan_bringup/rviz/fuel.rviz Launch RViz with FUEL config Development Command Purpose colcon build --packages-select mppi_control Build MPPI controller package ros2 run mppi_control mppi_acc_node --ros-args --params-file src/fuel_planner/plan_bringup/config/mppi.yaml Run MPPI acceleration node with config ros2 run mppi_control mppi_tq_node --ros-args --params-file src/fuel_planner/plan_bringup/config/mppi.yaml Run MPPI thrust+quaternion node with config Expand as new workflows stabilize.","title":"CLI"},{"location":"wiki/reference/cli_reference/#cli-reference","text":"List frequently used commands with short explanations.","title":"CLI Reference"},{"location":"wiki/reference/cli_reference/#launch-commands","text":"Command Purpose ros2 launch plan_bringup traj_server.launch.py world:=office Bring up trajectory server with office world ros2 launch plan_bringup fuel_pipeline.launch.py controller_type:=so3 world:=office exploration:=true Full pipeline with SO3 controller and exploration ros2 launch plan_bringup fuel_pipeline.launch.py controller_type:=mppi world:=office exploration:=true Full pipeline with MPPI thrust+quaternion controller ros2 launch plan_bringup fuel_pipeline.launch.py controller_type:=mppi_acc world:=office exploration:=true Full pipeline with MPPI acceleration controller","title":"Launch Commands"},{"location":"wiki/reference/cli_reference/#topic-inspection","text":"Command Purpose ros2 topic echo /traj_server/command Inspect trajectory server commands ros2 topic echo /odom Inspect UAV odometry ros2 topic echo /planning/pos_cmd Inspect reference trajectory from planner ros2 topic echo /so3_cmd Inspect SO3 control commands ros2 topic hz /so3_cmd Check control command rate","title":"Topic Inspection"},{"location":"wiki/reference/cli_reference/#visualization","text":"Command Purpose ros2 run tf2_tools view_frames Visualize TF tree rviz2 -d src/fuel_planner/plan_bringup/rviz/fuel.rviz Launch RViz with FUEL config","title":"Visualization"},{"location":"wiki/reference/cli_reference/#development","text":"Command Purpose colcon build --packages-select mppi_control Build MPPI controller package ros2 run mppi_control mppi_acc_node --ros-args --params-file src/fuel_planner/plan_bringup/config/mppi.yaml Run MPPI acceleration node with config ros2 run mppi_control mppi_tq_node --ros-args --params-file src/fuel_planner/plan_bringup/config/mppi.yaml Run MPPI thrust+quaternion node with config Expand as new workflows stabilize.","title":"Development"},{"location":"wiki/reference/message_schemas/","text":"Message Schemas Summarize custom messages (e.g., quadrotor_msgs/Bspline , quadrotor_msgs/PositionCommand ). Message Source Notes quadrotor_msgs/PositionCommand src/uav_simulator/Utils/quadrotor_msgs/msg/PositionCommand.msg Consumed by traj_server and controllers Link back to .msg files rather than duplicating the full schema.","title":"Messages"},{"location":"wiki/reference/message_schemas/#message-schemas","text":"Summarize custom messages (e.g., quadrotor_msgs/Bspline , quadrotor_msgs/PositionCommand ). Message Source Notes quadrotor_msgs/PositionCommand src/uav_simulator/Utils/quadrotor_msgs/msg/PositionCommand.msg Consumed by traj_server and controllers Link back to .msg files rather than duplicating the full schema.","title":"Message Schemas"},{"location":"wiki/reference/mppi_controller/","text":"MPPI Controller The MPPI (Model Predictive Path Integral) controller is a sampling-based Model Predictive Control (MPC) algorithm that uses GPU acceleration for real-time trajectory tracking. FUEL includes two MPPI variants optimized for different control representations. Overview MPPI solves optimal control problems by: 1. Sampling thousands of control trajectories (K samples over H horizon steps) 2. Rolling out dynamics predictions for each trajectory on GPU 3. Computing costs based on tracking error, control effort, and obstacles 4. Computing exponentially-weighted average of samples based on costs 5. Applying first control command, shifting horizon, and repeating The algorithm is highly parallelizable on GPU, making it suitable for real-time control at ~100Hz. Controller Variants 1. MPPI Acceleration ( mppi_acc_node ) Optimizes acceleration deltas (3 DOF: x, y, z) and converts to force/orientation. Property Value Control Space 3 DOF (acceleration vector) Output Mapping Acceleration \u2192 Force vector \u2192 Orientation (from force direction) Use Case When trajectory planner provides acceleration commands Source src/i_mppi/mppi_control/include/mppi_control/mppi_acc_node.hpp Control Flow: Optimize: [ax, ay, az] \u2192 Force = mass * (a + g) \u2192 SO3Command 2. MPPI Thrust+Quaternion ( mppi_tq_node ) Optimizes thrust magnitude (1 DOF) and orientation quaternion (4 DOF) = 5 DOF total. Property Value Control Space 5 DOF (thrust + quaternion) Output Mapping Direct thrust+quaternion \u2192 SO3Command Use Case Direct control over attitude, explicit orientation constraints Source src/i_mppi/mppi_control/include/mppi_control/mppi_tq_node.hpp Control Flow: Optimize: [thrust, qx, qy, qz, qw] \u2192 SO3Command (direct mapping) Key Differences: - Explicit orientation control (full attitude, not just yaw) - Thrust constraints more natural than acceleration bounds - Proper manifold handling for quaternions (tangent space noise) - Higher dimensionality requires more samples for same coverage Parameters Common Parameters Parameter Default Description K 9000 Number of control samples (higher = better exploration, more compute) H 20-50 Horizon length in steps (longer = better foresight, more compute) dt 0.02-0.05 Time step per horizon step (seconds) lambda 0.01-0.1 Temperature parameter (lower = more exploitation, higher = exploration) g 9.81 Gravity acceleration (m/s\u00b2) Cost Weights (Acceleration Variant) Parameter Default Description Q_pos_x/y/z 50.0 Position tracking cost weight Q_vel_x/y/z 2.0 Velocity tracking cost weight R_x/y/z 0.1 Control effort regularization weight R_rate_x/y/z 10.0 Control rate change penalty (smoothness) w_obs 20.0 Obstacle avoidance cost weight Cost Weights (Thrust+Quaternion Variant) Parameter Default Description Q_pos_x/y/z 10.0 Position tracking cost weight Q_vel_x/y/z 1.0 Velocity tracking cost weight Q_thrust 0.1 Thrust tracking cost weight R_thrust 0.0 Thrust effort regularization (future use) Q_quat 10.0 Orientation tracking cost weight R_quat 0.0 Quaternion effort regularization (future use) Q_omega 0.5 Angular velocity smoothing penalty w_obs 100.0 Obstacle avoidance cost weight Control Constraints Parameter Acc Variant TQ Variant Description a_max 10.0 N/A Maximum acceleration magnitude (m/s\u00b2) tilt_max 0.6 N/A Maximum tilt angle (radians, ~34\u00b0) thrust_max N/A 20.0 Maximum thrust (N, ~2g for 1kg drone) thrust_min N/A 1.0 Minimum thrust (N, prevents singularities) sigma 0.2 N/A Noise standard deviation (acceleration) sigma_thrust N/A 1.0 Noise standard deviation (thrust) sigma_quat N/A 0.1 Noise standard deviation (quaternion tangent space) Usage Launch with MPPI Controller # Thrust+Quaternion variant (recommended) ros2 launch plan_bringup fuel_pipeline.launch.py \\ controller_type: = mppi \\ world: = office \\ exploration: = true # Acceleration variant ros2 launch plan_bringup fuel_pipeline.launch.py \\ controller_type: = mppi_acc \\ world: = office \\ exploration: = true Configuration File Located at src/fuel_planner/plan_bringup/config/mppi.yaml : mppi_control : ros__parameters : mppi : K : 9000 H : 50 dt : 0.02 sigma : 0.2 lambda : 0.01 Q_pos_x : 50.0 Q_pos_y : 50.0 Q_pos_z : 50.0 Q_vel_x : 2.0 Q_vel_y : 2.0 Q_vel_z : 2.0 R_x : 0.1 R_y : 0.1 R_z : 0.1 R_rate_x : 10.0 R_rate_y : 10.0 R_rate_z : 10.0 w_obs : 20.0 a_max : 10.0 tilt_max : 0.6 g : 9.81 mass : 0.98 Topics Subscribed Topics Topic Message Description odom nav_msgs/msg/Odometry Current UAV state (position, velocity, orientation) planning/pos_cmd quadrotor_msgs/msg/PositionCommand Reference trajectory (position, velocity, acceleration, yaw) Published Topics Topic Message Description so3_cmd quadrotor_msgs/msg/SO3Command Control command (force + orientation + gains) Algorithm Details Dynamics Model Both variants use double-integrator dynamics with RK4 integration: position: p_dot = v velocity: v_dot = a - g control: u = [accel] or [thrust, quat] For thrust+quaternion variant, acceleration is computed as: F_body = [0, 0, thrust] F_world = R * F_body a = F_world / mass - g Cost Function Total cost per trajectory sample: J = \u03a3 [Q_pos * ||p - p_ref||\u00b2 + Q_vel * ||v - v_ref||\u00b2 + R * ||u||\u00b2 + R_rate * ||u - u_prev||\u00b2 + w_obs * obstacle_cost] For thrust+quaternion variant: - R_thrust * thrust\u00b2 for thrust regularization - Q_quat * geodesic_distance(q, q_ref)\u00b2 for orientation tracking - Q_omega * ||omega||\u00b2 for angular velocity smoothing Sampling Strategy Acceleration variant: Gaussian noise on each axis u_sample = u_mean + noise, noise ~ N(0, sigma) Thrust+Quaternion variant: - Thrust: Gaussian noise - Quaternion: Tangent space noise \u2192 exponential map \u2192 quaternion composition Weighted Update Exponential weighting based on costs: weight_k = exp(-(J_k - min_J) / lambda) u_new = \u03a3 weight_k * u_k / \u03a3 weight_k For quaternions, antipodal handling is applied (flip sign if dot product < 0). Comparison with SO3 Controller Feature SO3 Control MPPI Control Type Geometric tracking controller Sampling-based MPC Model-free Yes (feedback only) No (requires dynamics model) Obstacle avoidance No Yes (via SDF map) Preview capability No Yes (receding horizon) Computation Low (CPU) High (GPU required) Tuning complexity Low (gains only) High (cost weights, sampling params) Robustness to model errors High Moderate Hardware Requirements GPU: NVIDIA CUDA-capable GPU (compute capability 7.0+ recommended) Memory: ~500MB GPU memory for K=9000, H=50 Compute: ~5-10ms per MPPI update on RTX 3060 Tuning Guidelines Increase K if tracking is erratic (more samples) Increase H if preview is insufficient (longer horizon) Decrease lambda if controller is too conservative Increase Q_pos for tighter position tracking Increase R_rate for smoother control (less aggressive changes) Adjust w_obs for obstacle avoidance aggressiveness Implementation Files File Description include/mppi_control/mppi_acc_node.hpp Acceleration variant header include/mppi_control/mppi_tq_node.hpp Thrust+Quaternion variant header src/mppi_acc_node.cpp Acceleration variant CPU code src/mppi_tq_node.cpp Thrust+Quaternion variant CPU code src/mppi_acc_kernels.cu Acceleration variant GPU kernels src/mppi_tq_kernels.cu Thrust+Quaternion variant GPU kernels References Williams et al. \"Model Predictive Path Integral Control: From Theory to Parallel Computation\" (2017) docs/plan/mppi_so3.md - Design document for thrust+quaternion variant","title":"MPPI Controller"},{"location":"wiki/reference/mppi_controller/#mppi-controller","text":"The MPPI (Model Predictive Path Integral) controller is a sampling-based Model Predictive Control (MPC) algorithm that uses GPU acceleration for real-time trajectory tracking. FUEL includes two MPPI variants optimized for different control representations.","title":"MPPI Controller"},{"location":"wiki/reference/mppi_controller/#overview","text":"MPPI solves optimal control problems by: 1. Sampling thousands of control trajectories (K samples over H horizon steps) 2. Rolling out dynamics predictions for each trajectory on GPU 3. Computing costs based on tracking error, control effort, and obstacles 4. Computing exponentially-weighted average of samples based on costs 5. Applying first control command, shifting horizon, and repeating The algorithm is highly parallelizable on GPU, making it suitable for real-time control at ~100Hz.","title":"Overview"},{"location":"wiki/reference/mppi_controller/#controller-variants","text":"","title":"Controller Variants"},{"location":"wiki/reference/mppi_controller/#1-mppi-acceleration-mppi_acc_node","text":"Optimizes acceleration deltas (3 DOF: x, y, z) and converts to force/orientation. Property Value Control Space 3 DOF (acceleration vector) Output Mapping Acceleration \u2192 Force vector \u2192 Orientation (from force direction) Use Case When trajectory planner provides acceleration commands Source src/i_mppi/mppi_control/include/mppi_control/mppi_acc_node.hpp Control Flow: Optimize: [ax, ay, az] \u2192 Force = mass * (a + g) \u2192 SO3Command","title":"1. MPPI Acceleration (mppi_acc_node)"},{"location":"wiki/reference/mppi_controller/#2-mppi-thrustquaternion-mppi_tq_node","text":"Optimizes thrust magnitude (1 DOF) and orientation quaternion (4 DOF) = 5 DOF total. Property Value Control Space 5 DOF (thrust + quaternion) Output Mapping Direct thrust+quaternion \u2192 SO3Command Use Case Direct control over attitude, explicit orientation constraints Source src/i_mppi/mppi_control/include/mppi_control/mppi_tq_node.hpp Control Flow: Optimize: [thrust, qx, qy, qz, qw] \u2192 SO3Command (direct mapping) Key Differences: - Explicit orientation control (full attitude, not just yaw) - Thrust constraints more natural than acceleration bounds - Proper manifold handling for quaternions (tangent space noise) - Higher dimensionality requires more samples for same coverage","title":"2. MPPI Thrust+Quaternion (mppi_tq_node)"},{"location":"wiki/reference/mppi_controller/#parameters","text":"","title":"Parameters"},{"location":"wiki/reference/mppi_controller/#common-parameters","text":"Parameter Default Description K 9000 Number of control samples (higher = better exploration, more compute) H 20-50 Horizon length in steps (longer = better foresight, more compute) dt 0.02-0.05 Time step per horizon step (seconds) lambda 0.01-0.1 Temperature parameter (lower = more exploitation, higher = exploration) g 9.81 Gravity acceleration (m/s\u00b2)","title":"Common Parameters"},{"location":"wiki/reference/mppi_controller/#cost-weights-acceleration-variant","text":"Parameter Default Description Q_pos_x/y/z 50.0 Position tracking cost weight Q_vel_x/y/z 2.0 Velocity tracking cost weight R_x/y/z 0.1 Control effort regularization weight R_rate_x/y/z 10.0 Control rate change penalty (smoothness) w_obs 20.0 Obstacle avoidance cost weight","title":"Cost Weights (Acceleration Variant)"},{"location":"wiki/reference/mppi_controller/#cost-weights-thrustquaternion-variant","text":"Parameter Default Description Q_pos_x/y/z 10.0 Position tracking cost weight Q_vel_x/y/z 1.0 Velocity tracking cost weight Q_thrust 0.1 Thrust tracking cost weight R_thrust 0.0 Thrust effort regularization (future use) Q_quat 10.0 Orientation tracking cost weight R_quat 0.0 Quaternion effort regularization (future use) Q_omega 0.5 Angular velocity smoothing penalty w_obs 100.0 Obstacle avoidance cost weight","title":"Cost Weights (Thrust+Quaternion Variant)"},{"location":"wiki/reference/mppi_controller/#control-constraints","text":"Parameter Acc Variant TQ Variant Description a_max 10.0 N/A Maximum acceleration magnitude (m/s\u00b2) tilt_max 0.6 N/A Maximum tilt angle (radians, ~34\u00b0) thrust_max N/A 20.0 Maximum thrust (N, ~2g for 1kg drone) thrust_min N/A 1.0 Minimum thrust (N, prevents singularities) sigma 0.2 N/A Noise standard deviation (acceleration) sigma_thrust N/A 1.0 Noise standard deviation (thrust) sigma_quat N/A 0.1 Noise standard deviation (quaternion tangent space)","title":"Control Constraints"},{"location":"wiki/reference/mppi_controller/#usage","text":"","title":"Usage"},{"location":"wiki/reference/mppi_controller/#launch-with-mppi-controller","text":"# Thrust+Quaternion variant (recommended) ros2 launch plan_bringup fuel_pipeline.launch.py \\ controller_type: = mppi \\ world: = office \\ exploration: = true # Acceleration variant ros2 launch plan_bringup fuel_pipeline.launch.py \\ controller_type: = mppi_acc \\ world: = office \\ exploration: = true","title":"Launch with MPPI Controller"},{"location":"wiki/reference/mppi_controller/#configuration-file","text":"Located at src/fuel_planner/plan_bringup/config/mppi.yaml : mppi_control : ros__parameters : mppi : K : 9000 H : 50 dt : 0.02 sigma : 0.2 lambda : 0.01 Q_pos_x : 50.0 Q_pos_y : 50.0 Q_pos_z : 50.0 Q_vel_x : 2.0 Q_vel_y : 2.0 Q_vel_z : 2.0 R_x : 0.1 R_y : 0.1 R_z : 0.1 R_rate_x : 10.0 R_rate_y : 10.0 R_rate_z : 10.0 w_obs : 20.0 a_max : 10.0 tilt_max : 0.6 g : 9.81 mass : 0.98","title":"Configuration File"},{"location":"wiki/reference/mppi_controller/#topics","text":"","title":"Topics"},{"location":"wiki/reference/mppi_controller/#subscribed-topics","text":"Topic Message Description odom nav_msgs/msg/Odometry Current UAV state (position, velocity, orientation) planning/pos_cmd quadrotor_msgs/msg/PositionCommand Reference trajectory (position, velocity, acceleration, yaw)","title":"Subscribed Topics"},{"location":"wiki/reference/mppi_controller/#published-topics","text":"Topic Message Description so3_cmd quadrotor_msgs/msg/SO3Command Control command (force + orientation + gains)","title":"Published Topics"},{"location":"wiki/reference/mppi_controller/#algorithm-details","text":"","title":"Algorithm Details"},{"location":"wiki/reference/mppi_controller/#dynamics-model","text":"Both variants use double-integrator dynamics with RK4 integration: position: p_dot = v velocity: v_dot = a - g control: u = [accel] or [thrust, quat] For thrust+quaternion variant, acceleration is computed as: F_body = [0, 0, thrust] F_world = R * F_body a = F_world / mass - g","title":"Dynamics Model"},{"location":"wiki/reference/mppi_controller/#cost-function","text":"Total cost per trajectory sample: J = \u03a3 [Q_pos * ||p - p_ref||\u00b2 + Q_vel * ||v - v_ref||\u00b2 + R * ||u||\u00b2 + R_rate * ||u - u_prev||\u00b2 + w_obs * obstacle_cost] For thrust+quaternion variant: - R_thrust * thrust\u00b2 for thrust regularization - Q_quat * geodesic_distance(q, q_ref)\u00b2 for orientation tracking - Q_omega * ||omega||\u00b2 for angular velocity smoothing","title":"Cost Function"},{"location":"wiki/reference/mppi_controller/#sampling-strategy","text":"Acceleration variant: Gaussian noise on each axis u_sample = u_mean + noise, noise ~ N(0, sigma) Thrust+Quaternion variant: - Thrust: Gaussian noise - Quaternion: Tangent space noise \u2192 exponential map \u2192 quaternion composition","title":"Sampling Strategy"},{"location":"wiki/reference/mppi_controller/#weighted-update","text":"Exponential weighting based on costs: weight_k = exp(-(J_k - min_J) / lambda) u_new = \u03a3 weight_k * u_k / \u03a3 weight_k For quaternions, antipodal handling is applied (flip sign if dot product < 0).","title":"Weighted Update"},{"location":"wiki/reference/mppi_controller/#comparison-with-so3-controller","text":"Feature SO3 Control MPPI Control Type Geometric tracking controller Sampling-based MPC Model-free Yes (feedback only) No (requires dynamics model) Obstacle avoidance No Yes (via SDF map) Preview capability No Yes (receding horizon) Computation Low (CPU) High (GPU required) Tuning complexity Low (gains only) High (cost weights, sampling params) Robustness to model errors High Moderate","title":"Comparison with SO3 Controller"},{"location":"wiki/reference/mppi_controller/#hardware-requirements","text":"GPU: NVIDIA CUDA-capable GPU (compute capability 7.0+ recommended) Memory: ~500MB GPU memory for K=9000, H=50 Compute: ~5-10ms per MPPI update on RTX 3060","title":"Hardware Requirements"},{"location":"wiki/reference/mppi_controller/#tuning-guidelines","text":"Increase K if tracking is erratic (more samples) Increase H if preview is insufficient (longer horizon) Decrease lambda if controller is too conservative Increase Q_pos for tighter position tracking Increase R_rate for smoother control (less aggressive changes) Adjust w_obs for obstacle avoidance aggressiveness","title":"Tuning Guidelines"},{"location":"wiki/reference/mppi_controller/#implementation-files","text":"File Description include/mppi_control/mppi_acc_node.hpp Acceleration variant header include/mppi_control/mppi_tq_node.hpp Thrust+Quaternion variant header src/mppi_acc_node.cpp Acceleration variant CPU code src/mppi_tq_node.cpp Thrust+Quaternion variant CPU code src/mppi_acc_kernels.cu Acceleration variant GPU kernels src/mppi_tq_kernels.cu Thrust+Quaternion variant GPU kernels","title":"Implementation Files"},{"location":"wiki/reference/mppi_controller/#references","text":"Williams et al. \"Model Predictive Path Integral Control: From Theory to Parallel Computation\" (2017) docs/plan/mppi_so3.md - Design document for thrust+quaternion variant","title":"References"},{"location":"wiki/reference/parameter_tables/","text":"Parameter Tables Track essential parameters for planners and simulators. Planning Package Parameter Default Description plan_manage use_sim_time true Enable simulation clock when running with simulator plan_manage traj_server/horizon 5.0 Command horizon in seconds Controllers MPPI Acceleration Variant ( mppi_acc_node ) Parameter Default Description K 9000 Number of control samples H 50 Horizon length in steps dt 0.02 Time step per horizon step (seconds) sigma 0.2 Noise standard deviation lambda 0.01 Temperature parameter (lower=exploit, higher=explore) Q_pos_x/y/z 50.0 Position tracking cost weight Q_vel_x/y/z 2.0 Velocity tracking cost weight R_x/y/z 0.1 Control effort regularization R_rate_x/y/z 10.0 Control rate change penalty w_obs 20.0 Obstacle avoidance cost weight a_max 10.0 Maximum acceleration (m/s\u00b2) tilt_max 0.6 Maximum tilt angle (radians) MPPI Thrust+Quaternion Variant ( mppi_tq_node ) Parameter Default Description K 9000 Number of control samples H 20 Horizon length in steps dt 0.05 Time step per horizon step (seconds) lambda 0.1 Temperature parameter sigma_thrust 1.0 Thrust noise standard deviation sigma_quat 0.1 Quaternion noise (tangent space) Q_pos_x/y/z 10.0 Position tracking cost weight Q_vel_x/y/z 1.0 Velocity tracking cost weight Q_thrust 0.1 Thrust tracking cost weight R_thrust 0.0 Thrust effort regularization Q_quat 10.0 Orientation tracking cost weight R_quat 0.0 Quaternion effort regularization Q_omega 0.5 Angular velocity smoothing penalty w_obs 100.0 Obstacle avoidance cost weight thrust_max 20.0 Maximum thrust (N) thrust_min 1.0 Minimum thrust (N) Pull actual defaults from YAML files when documenting.","title":"Parameters"},{"location":"wiki/reference/parameter_tables/#parameter-tables","text":"Track essential parameters for planners and simulators.","title":"Parameter Tables"},{"location":"wiki/reference/parameter_tables/#planning","text":"Package Parameter Default Description plan_manage use_sim_time true Enable simulation clock when running with simulator plan_manage traj_server/horizon 5.0 Command horizon in seconds","title":"Planning"},{"location":"wiki/reference/parameter_tables/#controllers","text":"","title":"Controllers"},{"location":"wiki/reference/parameter_tables/#mppi-acceleration-variant-mppi_acc_node","text":"Parameter Default Description K 9000 Number of control samples H 50 Horizon length in steps dt 0.02 Time step per horizon step (seconds) sigma 0.2 Noise standard deviation lambda 0.01 Temperature parameter (lower=exploit, higher=explore) Q_pos_x/y/z 50.0 Position tracking cost weight Q_vel_x/y/z 2.0 Velocity tracking cost weight R_x/y/z 0.1 Control effort regularization R_rate_x/y/z 10.0 Control rate change penalty w_obs 20.0 Obstacle avoidance cost weight a_max 10.0 Maximum acceleration (m/s\u00b2) tilt_max 0.6 Maximum tilt angle (radians)","title":"MPPI Acceleration Variant (mppi_acc_node)"},{"location":"wiki/reference/parameter_tables/#mppi-thrustquaternion-variant-mppi_tq_node","text":"Parameter Default Description K 9000 Number of control samples H 20 Horizon length in steps dt 0.05 Time step per horizon step (seconds) lambda 0.1 Temperature parameter sigma_thrust 1.0 Thrust noise standard deviation sigma_quat 0.1 Quaternion noise (tangent space) Q_pos_x/y/z 10.0 Position tracking cost weight Q_vel_x/y/z 1.0 Velocity tracking cost weight Q_thrust 0.1 Thrust tracking cost weight R_thrust 0.0 Thrust effort regularization Q_quat 10.0 Orientation tracking cost weight R_quat 0.0 Quaternion effort regularization Q_omega 0.5 Angular velocity smoothing penalty w_obs 100.0 Obstacle avoidance cost weight thrust_max 20.0 Maximum thrust (N) thrust_min 1.0 Minimum thrust (N) Pull actual defaults from YAML files when documenting.","title":"MPPI Thrust+Quaternion Variant (mppi_tq_node)"},{"location":"wiki/setup/","text":"Setup Section Capture everything needed to reproduce the dev environment locally or in CI. Required Pages dev_container.md \u2013 how to open the dev container, source ROS, and common pitfalls. env_configuration.md \u2013 basic .env structure for secrets like GitHub tokens. build_pipeline.md \u2013 canonical colcon commands, lint hooks, CI expectations. simulator_launch.md \u2013 launching the UAV simulator + planners end-to-end. Feel free to add scenario-specific guides (e.g., hardware bring-up) as their own Markdown files and link them here.","title":"Getting Started"},{"location":"wiki/setup/#setup-section","text":"Capture everything needed to reproduce the dev environment locally or in CI.","title":"Setup Section"},{"location":"wiki/setup/#required-pages","text":"dev_container.md \u2013 how to open the dev container, source ROS, and common pitfalls. env_configuration.md \u2013 basic .env structure for secrets like GitHub tokens. build_pipeline.md \u2013 canonical colcon commands, lint hooks, CI expectations. simulator_launch.md \u2013 launching the UAV simulator + planners end-to-end. Feel free to add scenario-specific guides (e.g., hardware bring-up) as their own Markdown files and link them here.","title":"Required Pages"},{"location":"wiki/setup/build_pipeline/","text":"Build & Test Pipeline Document the required commands, order, and environment variables to keep overlays consistent. Core Commands colcon build --packages-select plan_manage colcon build --packages-select plan_manage poly_traj uav_utils colcon test --event-handlers console_direct+ colcon test --packages-select poly_traj --ctest-args -R traj_generator Notes Always source install/setup.bash after building. Keep CMAKE_EXPORT_COMPILE_COMMANDS enabled for tooling. Mention any required AMENT_PREFIX_PATH or RMW_IMPLEMENTATION overrides. Set ENABLE_CUDA=ON via colcon build --cmake-args -DENABLE_CUDA=ON when you need the CUDA-based pcl_render_node ; otherwise the CPU fallback builds and installs.","title":"Build &amp; Test Pipeline"},{"location":"wiki/setup/build_pipeline/#build-test-pipeline","text":"Document the required commands, order, and environment variables to keep overlays consistent.","title":"Build &amp; Test Pipeline"},{"location":"wiki/setup/build_pipeline/#core-commands","text":"colcon build --packages-select plan_manage colcon build --packages-select plan_manage poly_traj uav_utils colcon test --event-handlers console_direct+ colcon test --packages-select poly_traj --ctest-args -R traj_generator","title":"Core Commands"},{"location":"wiki/setup/build_pipeline/#notes","text":"Always source install/setup.bash after building. Keep CMAKE_EXPORT_COMPILE_COMMANDS enabled for tooling. Mention any required AMENT_PREFIX_PATH or RMW_IMPLEMENTATION overrides. Set ENABLE_CUDA=ON via colcon build --cmake-args -DENABLE_CUDA=ON when you need the CUDA-based pcl_render_node ; otherwise the CPU fallback builds and installs.","title":"Notes"},{"location":"wiki/setup/dev_container/","text":"Dev Container Setup docker compose exec fuel-dev bash source /opt/ros/jazzy/setup.bash colcon build --symlink-install --cmake-args -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DCMAKE_BUILD_TYPE=RelWithDebInfo source install/setup.bash Add troubleshooting tips for volume mounts, permissions, and GPU passthrough here.","title":"Dev Container"},{"location":"wiki/setup/dev_container/#dev-container-setup","text":"docker compose exec fuel-dev bash source /opt/ros/jazzy/setup.bash colcon build --symlink-install --cmake-args -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DCMAKE_BUILD_TYPE=RelWithDebInfo source install/setup.bash Add troubleshooting tips for volume mounts, permissions, and GPU passthrough here.","title":"Dev Container Setup"},{"location":"wiki/setup/env_configuration/","text":"Environment Configuration (.devcontainer/.env) The .env file for Docker Compose configuration resides in the .devcontainer/ directory. Setup Copy the example file: cp .devcontainer/.env.example .devcontainer/.env Edit .devcontainer/.env with your personal settings. Variables Variable Description GITHUB_USER Your GitHub username. GITHUB_NAME Your full name for Git commits. GH_TOKEN GitHub Personal Access Token (for cloning private repos or API limits). CUDA_CAPABILITIES Set to ON if you have an NVIDIA GPU, OFF otherwise. Security The .devcontainer/.env file is ignored by Git. Do NOT commit it.","title":"Environment"},{"location":"wiki/setup/env_configuration/#environment-configuration-devcontainerenv","text":"The .env file for Docker Compose configuration resides in the .devcontainer/ directory.","title":"Environment Configuration (.devcontainer/.env)"},{"location":"wiki/setup/env_configuration/#setup","text":"Copy the example file: cp .devcontainer/.env.example .devcontainer/.env Edit .devcontainer/.env with your personal settings.","title":"Setup"},{"location":"wiki/setup/env_configuration/#variables","text":"Variable Description GITHUB_USER Your GitHub username. GITHUB_NAME Your full name for Git commits. GH_TOKEN GitHub Personal Access Token (for cloning private repos or API limits). CUDA_CAPABILITIES Set to ON if you have an NVIDIA GPU, OFF otherwise.","title":"Variables"},{"location":"wiki/setup/env_configuration/#security","text":"The .devcontainer/.env file is ignored by Git. Do NOT commit it.","title":"Security"},{"location":"wiki/setup/simulator_launch/","text":"Simulator & Launch Recipes Document reproducible launch sequences that stitch together the simulator, planners, and visualization tools. Example Flow ros2 launch so3_quadrotor_simulator simulator.launch.py world:=office ros2 launch plan_bringup traj_server.launch.py world:=office ros2 launch plan_bringup fast_planner.launch.py use_sim_time:=true Combined Pipeline Use ros2 launch plan_bringup fuel_pipeline.launch.py to bring up the simulator, trajectory server, and fast planner from a single entry point. Override any of the shared launch arguments (e.g., map_type , planner_mode , launch_waypoint_generator , use_backup ) to tune the behavior for your run. The planner-specific Python launch files now live in the plan_bringup package so they can be invoked from a single bringup workspace share. Consider adding troubleshooting sections for TF mismatches or QoS incompatibilities.","title":"Simulator"},{"location":"wiki/setup/simulator_launch/#simulator-launch-recipes","text":"Document reproducible launch sequences that stitch together the simulator, planners, and visualization tools.","title":"Simulator &amp; Launch Recipes"},{"location":"wiki/setup/simulator_launch/#example-flow","text":"ros2 launch so3_quadrotor_simulator simulator.launch.py world:=office ros2 launch plan_bringup traj_server.launch.py world:=office ros2 launch plan_bringup fast_planner.launch.py use_sim_time:=true","title":"Example Flow"},{"location":"wiki/setup/simulator_launch/#combined-pipeline","text":"Use ros2 launch plan_bringup fuel_pipeline.launch.py to bring up the simulator, trajectory server, and fast planner from a single entry point. Override any of the shared launch arguments (e.g., map_type , planner_mode , launch_waypoint_generator , use_backup ) to tune the behavior for your run. The planner-specific Python launch files now live in the plan_bringup package so they can be invoked from a single bringup workspace share. Consider adding troubleshooting sections for TF mismatches or QoS incompatibilities.","title":"Combined Pipeline"},{"location":"wiki/simulator/","text":"Simulator Section Document how to configure and run the UAV simulator for demos, tests, and benchmarks. Suggested Pages worlds.md \u2013 available worlds/maps and how to swap them. visualization.md \u2013 RViz setups, camera topics, and overlays. performance_tuning.md \u2013 GPU/CPU tips for real-time execution. Include launch snippets that tie the simulator into planners or sensing nodes.","title":"Simulator Section"},{"location":"wiki/simulator/#simulator-section","text":"Document how to configure and run the UAV simulator for demos, tests, and benchmarks.","title":"Simulator Section"},{"location":"wiki/simulator/#suggested-pages","text":"worlds.md \u2013 available worlds/maps and how to swap them. visualization.md \u2013 RViz setups, camera topics, and overlays. performance_tuning.md \u2013 GPU/CPU tips for real-time execution. Include launch snippets that tie the simulator into planners or sensing nodes.","title":"Suggested Pages"},{"location":"wiki/simulator/performance_tuning/","text":"Performance Tuning Collect guidance for keeping the simulator + planners real-time. GPU requirements for local_sensing CUDA nodes. Recommended launch args (e.g., use_sim_time , QoS overrides). Profiling tools or metrics to watch (Hz, latency, CPU/GPU usage).","title":"Performance Tuning"},{"location":"wiki/simulator/performance_tuning/#performance-tuning","text":"Collect guidance for keeping the simulator + planners real-time. GPU requirements for local_sensing CUDA nodes. Recommended launch args (e.g., use_sim_time , QoS overrides). Profiling tools or metrics to watch (Hz, latency, CPU/GPU usage).","title":"Performance Tuning"},{"location":"wiki/simulator/visualization/","text":"Visualization Document RViz/foxglove setups for monitoring planner state. Checklist RViz config path ( files/rviz/*.rviz ). TF tree expectations ( world \u2192 body \u2192 camera ). Helpful displays: point clouds, trajectories, PolyTraj commands. Add screenshots or GIFs under files/ when available.","title":"Visualization"},{"location":"wiki/simulator/visualization/#visualization","text":"Document RViz/foxglove setups for monitoring planner state.","title":"Visualization"},{"location":"wiki/simulator/visualization/#checklist","text":"RViz config path ( files/rviz/*.rviz ). TF tree expectations ( world \u2192 body \u2192 camera ). Helpful displays: point clouds, trajectories, PolyTraj commands. Add screenshots or GIFs under files/ when available.","title":"Checklist"},{"location":"wiki/simulator/worlds/","text":"Simulator Worlds List each supported world, the launch argument needed, and any special assets. World Arg Description Assets office Default indoor map used for regression tests files/maps/office.pcd warehouse Large open area for high-speed tests TODO Add instructions on adding new maps under files/ and referencing them via launch params.","title":"Worlds"},{"location":"wiki/simulator/worlds/#simulator-worlds","text":"List each supported world, the launch argument needed, and any special assets. World Arg Description Assets office Default indoor map used for regression tests files/maps/office.pcd warehouse Large open area for high-speed tests TODO Add instructions on adding new maps under files/ and referencing them via launch params.","title":"Simulator Worlds"},{"location":"wiki/templates/","text":"Templates Drop reusable Markdown templates here so contributors can bootstrap new pages quickly. Current Templates wiki_page_template.md \u2013 general-purpose page skeleton. runbook_template.md \u2013 incident/runbook structure for operations tasks.","title":"Templates"},{"location":"wiki/templates/#templates","text":"Drop reusable Markdown templates here so contributors can bootstrap new pages quickly.","title":"Templates"},{"location":"wiki/templates/#current-templates","text":"wiki_page_template.md \u2013 general-purpose page skeleton. runbook_template.md \u2013 incident/runbook structure for operations tasks.","title":"Current Templates"},{"location":"wiki/templates/runbook_template/","text":"Trigger Owner Impact Timeline Step Action Owner Rollback / Recovery Follow-up Tasks","title":"Runbook"},{"location":"wiki/templates/runbook_template/#_1","text":"","title":""},{"location":"wiki/templates/runbook_template/#trigger","text":"","title":"Trigger"},{"location":"wiki/templates/runbook_template/#owner","text":"","title":"Owner"},{"location":"wiki/templates/runbook_template/#impact","text":"","title":"Impact"},{"location":"wiki/templates/runbook_template/#timeline","text":"Step Action Owner","title":"Timeline"},{"location":"wiki/templates/runbook_template/#rollback-recovery","text":"","title":"Rollback / Recovery"},{"location":"wiki/templates/runbook_template/#follow-up-tasks","text":"","title":"Follow-up Tasks"},{"location":"wiki/templates/wiki_page_template/","text":"</h1> <h2 id=\"summary\">Summary</h2> <p><em>1-2 sentences.</em></p> <h2 id=\"preconditions\">Preconditions</h2> <ul> <li></li> </ul> <h2 id=\"steps\">Steps</h2> <ol> <li></li> </ol> <h2 id=\"verification\">Verification</h2> <ul> <li></li> </ul> <h2 id=\"references\">References</h2> <ul> <li></li> </ul>","title":"Wiki Page"},{"location":"wiki/templates/wiki_page_template/#_1","text":"","title":""},{"location":"wiki/troubleshooting/","text":"Troubleshooting Section Aggregate known issues and fixes here to reduce repeated Slack/issue chatter. Suggested Pages common_issues.md \u2013 symptom \u2192 fix table. debugging.md \u2013 deeper dives (TF diagnostics, QoS debugging, log collection). When a new issue surfaces, add it here and link relevant GitHub tickets.","title":"Troubleshooting Section"},{"location":"wiki/troubleshooting/#troubleshooting-section","text":"Aggregate known issues and fixes here to reduce repeated Slack/issue chatter.","title":"Troubleshooting Section"},{"location":"wiki/troubleshooting/#suggested-pages","text":"common_issues.md \u2013 symptom \u2192 fix table. debugging.md \u2013 deeper dives (TF diagnostics, QoS debugging, log collection). When a new issue surfaces, add it here and link relevant GitHub tickets.","title":"Suggested Pages"},{"location":"wiki/troubleshooting/common_issues/","text":"Common Issues Symptom Likely Cause Fix ros2 launch plan_bringup traj_server.launch.py hangs install/setup.bash not sourced Source install/setup.bash and relaunch Missing quadrotor_msgs Workspace not rebuilt after dependency change Run colcon build --packages-select plan_manage quadrotor_msgs Add rows as new issues arise.","title":"Common Issues"},{"location":"wiki/troubleshooting/common_issues/#common-issues","text":"Symptom Likely Cause Fix ros2 launch plan_bringup traj_server.launch.py hangs install/setup.bash not sourced Source install/setup.bash and relaunch Missing quadrotor_msgs Workspace not rebuilt after dependency change Run colcon build --packages-select plan_manage quadrotor_msgs Add rows as new issues arise.","title":"Common Issues"},{"location":"wiki/troubleshooting/debugging/","text":"Debugging Recipes TF mismatches: ros2 run tf2_tools view_frames and inspect the generated PDF. QoS compatibility: ros2 topic info /traj_server/command --verbose . Profiler hooks: run nodes with RCLCPP_LOG_LEVEL=DEBUG and capture logs under log/latest/ . Extend with command snippets, screenshots, and links to issues that discuss each scenario.","title":"Debugging"},{"location":"wiki/troubleshooting/debugging/#debugging-recipes","text":"TF mismatches: ros2 run tf2_tools view_frames and inspect the generated PDF. QoS compatibility: ros2 topic info /traj_server/command --verbose . Profiler hooks: run nodes with RCLCPP_LOG_LEVEL=DEBUG and capture logs under log/latest/ . Extend with command snippets, screenshots, and links to issues that discuss each scenario.","title":"Debugging Recipes"}]}